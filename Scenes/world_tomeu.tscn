[gd_scene load_steps=16 format=3 uid="uid://dkitb42eo8qr4"]

[ext_resource type="PackedScene" uid="uid://dc2wdikhqff8v" path="res://Prefabs/ground.tscn" id="1_s8jru"]
[ext_resource type="PackedScene" uid="uid://bad3h03kvxp0g" path="res://Prefabs/Plant/plant.tscn" id="2_yufc4"]
[ext_resource type="PackedScene" uid="uid://du7w0fkl3euh2" path="res://Prefabs/Temperature/temperatura.tscn" id="3_0rimc"]
[ext_resource type="PackedScene" uid="uid://pkto7eqenqon" path="res://Prefabs/Player/controlable_player.tscn" id="4_t7pus"]
[ext_resource type="PackedScene" uid="uid://bvpry7jtfxm8v" path="res://Prefabs/water_pond.tscn" id="4_wor1o"]
[ext_resource type="PackedScene" uid="uid://dykbqmyhn7lnx" path="res://Scripts/humidity_bar.tscn" id="5_f1wjm"]
[ext_resource type="PackedScene" uid="uid://ctmakpu2wqv6q" path="res://Prefabs/Bird/Bird.tscn" id="6_f0lc5"]
[ext_resource type="PackedScene" uid="uid://bo43j1q4ha1xn" path="res://Prefabs/UI/temperature_bar.tscn" id="7_kop10"]
[ext_resource type="PackedScene" path="res://Prefabs/BirdSky.tscn" id="7_uig2l"]
[ext_resource type="PackedScene" uid="uid://cynftkksee0vb" path="res://Prefabs/System/state_machine.tscn" id="8_j78m8"]
[ext_resource type="Texture2D" uid="uid://b351kdxq6t4b6" path="res://Art/UI/humidityBar/green.png" id="8_r31r0"]
[ext_resource type="Script" path="res://Scripts/UI/GrowthBar.cs" id="9_sd6gy"]
[ext_resource type="Theme" uid="uid://bf76smxecy8y8" path="res://Art/Themes/BasicTheme.tres" id="10_op6nb"]
[ext_resource type="PackedScene" uid="uid://bwxuxvqrq6e7q" path="res://Prefabs/System/music_game_state_manager.tscn" id="11_nj761"]
[ext_resource type="FontFile" uid="uid://14xvtjdh7w81" path="res://Art/Fonts/Mork Dungeon.ttf" id="11_ph2xv"]

[node name="WorldTomeu" type="Node3D"]

[node name="World" type="Node3D" parent="."]

[node name="Ground" parent="World" instance=ExtResource("1_s8jru")]

[node name="WaterPond" parent="World" instance=ExtResource("4_wor1o")]
transform = Transform3D(0.999555, 0, 0.0298233, 0, 1, 0, -0.0298233, 0, 0.999555, -31.1859, -9.70509, 55.2603)

[node name="Temperatura" parent="World" instance=ExtResource("3_0rimc")]
_tempAugment = 0.001

[node name="Plant" parent="World" instance=ExtResource("2_yufc4")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.24361, -235.662, 1.21227)

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(-0.999148, 3.19492e-08, 0.0412654, 0.0236547, 0.819392, 0.572745, -0.0338125, 0.573233, -0.818694, 0, 7.07003, 0)
light_energy = 2.5
light_indirect_energy = 2.0

[node name="ControlablePlayer" parent="." instance=ExtResource("4_t7pus")]
transform = Transform3D(-0.946969, 0, 0.321324, 0, 1, 0, -0.321324, 0, -0.946969, 13.2405, 3.44878, -8.45545)

[node name="Bird3" parent="." node_paths=PackedStringArray("BirdSky") instance=ExtResource("6_f0lc5")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -67.5717, 8.1417, 73.4285)
BirdSky = NodePath("../BirdSky")

[node name="Bird2" parent="." node_paths=PackedStringArray("BirdSky") instance=ExtResource("6_f0lc5")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -45.0478, 5.4278, 48.9523)
BirdSky = NodePath("../BirdSky")

[node name="Bird" parent="." node_paths=PackedStringArray("BirdSky") instance=ExtResource("6_f0lc5")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -22.5239, 2.7139, 24.4762)
BirdSky = NodePath("../BirdSky")

[node name="BirdSky" parent="." instance=ExtResource("7_uig2l")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -22.5239, 2.7139, 24.4762)

[node name="Ui" type="CanvasLayer" parent="."]

[node name="HumidityBar" parent="Ui" node_paths=PackedStringArray("_plant") instance=ExtResource("5_f1wjm")]
offset_left = 14.538
offset_top = 137.075
offset_right = 134.538
offset_bottom = 154.075
_plant = NodePath("../../World/Plant")

[node name="TemperatureBar" parent="Ui" node_paths=PackedStringArray("_temperatura") instance=ExtResource("7_kop10")]
offset_left = 18.538
offset_top = 137.075
offset_right = 138.538
offset_bottom = 154.075
_temperatura = NodePath("../../World/Temperatura")

[node name="GrowthBar" parent="Ui" node_paths=PackedStringArray("_plant") instance=ExtResource("7_kop10")]
offset_left = 15.0
offset_top = 624.0
offset_right = 137.0
offset_bottom = 664.0
texture_progress = ExtResource("8_r31r0")
script = ExtResource("9_sd6gy")
_plant = NodePath("../../World/Plant")

[node name="GameOverCanvas" type="CanvasLayer" parent="."]

[node name="GameOverScreen" type="Control" parent="GameOverCanvas"]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="PanelContainer" type="PanelContainer" parent="GameOverCanvas/GameOverScreen"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
size_flags_horizontal = 3
size_flags_vertical = 3

[node name="GameOver Text" type="RichTextLabel" parent="GameOverCanvas/GameOverScreen/PanelContainer"]
clip_contents = false
custom_minimum_size = Vector2(350, 50)
layout_direction = 1
layout_mode = 2
size_flags_horizontal = 4
size_flags_vertical = 4
theme = ExtResource("10_op6nb")
theme_override_colors/default_color = Color(1, 0, 0, 1)
theme_override_colors/font_shadow_color = Color(0, 0, 0, 1)
theme_override_constants/shadow_offset_x = 2
theme_override_constants/shadow_offset_y = 2
theme_override_fonts/normal_font = ExtResource("11_ph2xv")
theme_override_font_sizes/normal_font_size = 50
text = "GAME OVER!"
fit_content = true
scroll_active = false

[node name="Control" type="Control" parent="GameOverCanvas/GameOverScreen/PanelContainer"]
layout_mode = 2

[node name="Description" type="RichTextLabel" parent="GameOverCanvas/GameOverScreen/PanelContainer/Control"]
clip_contents = false
layout_mode = 0
offset_left = 487.0
offset_top = 374.0
offset_right = 669.0
offset_bottom = 414.0
text = "Global Warming won"

[node name="Buton" type="Control" parent="GameOverCanvas/GameOverScreen/PanelContainer"]
layout_mode = 2

[node name="Button" type="Button" parent="GameOverCanvas/GameOverScreen/PanelContainer/Buton"]
layout_mode = 2
offset_left = 400.0
offset_top = 451.0
offset_right = 750.0
offset_bottom = 506.0
text = "Press Here to try again"

[node name="StateMachine" parent="." node_paths=PackedStringArray("_plant", "_temperatura") instance=ExtResource("8_j78m8")]
_plant = NodePath("../World/Plant")
_temperatura = NodePath("../World/Temperatura")

[node name="MusicGameStateManager" parent="." node_paths=PackedStringArray("_stateMachine") instance=ExtResource("11_nj761")]
_stateMachine = NodePath("../StateMachine")
